<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">


<h:head>
	<h:outputStylesheet name="estilo.css" library="css" /> 
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Manutenção do Cadastro de Estudantes</title>
</h:head>

<h:body>
	<div id="corpo">
		<div id="topo">


	<h:graphicImage value="/resources/imagens/novo_logo.png" 
	style="width: 539px; height: 91px;"/>

	

			
		</div>
	<h:form id="formAlunos">



		<div id="sse50">
			<div id="sses50">
				<ul>
					<li><a href="index.jsf">Home</a></li>
					<li><a href="aluno.jsf">Aluno</a></li>
					<li><a href="turma.jsf">Turma</a></li>
					<li><a href="professor.jsf">Professor</a> </li>
					<li><a href="boletim.jsf">Boletim</a></li>
					<li><a href="matricula.jsf">Matrículas</a></li>
					<li><a href="trancamento.jsf">Trancamento</a></li>
					<li><a href="escolheDeclaracao.jsf">Declarações</a></li>
					<li> <h:commandLink action="#{ajudaMB.manualDoUsuario('secretaria')}"> Ajuda </h:commandLink>  </li>
					<li> <h:commandLink action="#{acessoMB.finalizarSessao()}">  Finalizar Sessão </h:commandLink>  </li>
			

				</ul>
			</div>
		</div>



    <p:growl id="mensagem" showDetail="true" sticky="true" />  



			<p:panel header="Alunos" style="margin-bottom:10px;">

 
 				<p:panelGrid columns="2" styleClass = "semBorda">
 				
 						
					<h:outputText value="Identificação"
						style="color:blue; background-color:80BFFF" 
						action = "${alunoMB.validaAcesso(acessoMB.identificacao)}"/>
					<p:inputText value="${alunoMB.alunoAtual.identificacao}"
						id="txtIdentificacao" maxlength="8"
						validatorMessage="A identificação deve ser preenchida com 8 numeros" size = "11"
						required="true"
	                    requiredMessage="O campo identificação é de preenchimento obrigatório">
						<f:validateRegex pattern="(^[0-9]{8})"/>
					</p:inputText>

					<h:outputText value="Nome" />
					<p:inputText id="txtNome" maxlength="100" size="100"
						value="${alunoMB.alunoAtual.nome}"
				     required="${alunoMB.habilitaSelecao()}"
	                 requiredMessage="O campo nome é de preenchimento obrigatório"/>

					<h:outputText value="CEP" />						
			        <p:inputMask value="${alunoMB.alunoAtual.cep}" mask="99999-999"  size="11"/>
			         
					<h:outputText value="Endereço" />
					<p:inputText id="txtEndereco" maxlength="100" size="100"
						value="${alunoMB.alunoAtual.endereco}"/>
			      

					<h:outputText value="Número" />
					<p:inputText id="txtNumero" maxlength="10" size="10"
					value="${alunoMB.alunoAtual.numero}" />
			    

					<h:outputText value="Bairro" />
					<p:inputText id="txtBairro" maxlength="50" size="80"
						value="${alunoMB.alunoAtual.bairro}" />
			     
						
						<h:outputText value="Estado" />
			
					<p:selectOneMenu value="#{alunoMB.alunoAtual.estado}"
						style="width:150px;">
						<f:selectItem itemLabel="" size="100" itemValue="" />
						<f:selectItems value="#{alunoMB.listaEstados()}" var="estado"
							itemLabel="#{estado}" itemValue="#{estado}" />			     
 					</p:selectOneMenu>

					<h:outputText value="Cidade" />
					<p:inputText id="txtCidade" maxlength="50" size="50"
						value="${alunoMB.alunoAtual.cidade}"/>
						
						
					<h:outputText value="Telefone" />											
			        <p:inputMask value="${alunoMB.alunoAtual.telefone}" mask="(99) 9999-9999" size = "12"/>
			         
			        
			        <h:outputText value="Celular" />											
			        <p:inputMask value="${alunoMB.alunoAtual.celular}" mask="(99) 99999-9999" size = "12"/>  
            

					<h:outputText value="RG" />
				   <p:inputMask value="${alunoMB.alunoAtual.rg}" mask="99.999.999-*" size = "12"/>
				    
						
					<h:outputText value="Órgão Expeditor" />
					<p:inputText id="txtOrgaoExpeditor" maxlength="5" size="5"
						value="${alunoMB.alunoAtual.orgao_expeditor}"/>
	

					<h:outputLabel value="Data de Nascimento" />
					<p:inputMask id="txtDataNascimento" mask="99/99/9999" maxlength="10" size="10"
						value="${alunoMB.alunoAtual.dataNascimento}">
					<f:convertDateTime pattern="dd/MM/yyyy" dateStyle="short" />
					</p:inputMask>
					

					<h:outputText value="Cidade de Nascimento" />
					<p:inputText id="txtCidadeNascimento" maxlength="50" size="50"
					value="${alunoMB.alunoAtual.cidadeNascimento}"/>						

					<h:outputText value="Nacionalidade" />
					<p:inputText id="txtNacionalidade" maxlength="50"
					value="${alunoMB.alunoAtual.nacionalidade}"/>					

					<h:outputText value="Naturalidade" />
					<p:inputText id="txtNaturalidade" maxlength="50" size="15"
						value="${alunoMB.alunoAtual.naturalidade}"/>						

						
					<h:outputText value="Sexo" />
					<p:selectOneMenu id="txtSexo" value="${alunoMB.alunoAtual.sexo}">
						<f:selectItem itemValue="" itemLabel="" />
						<f:selectItem itemValue="Masculino" itemLabel="Masculino" />
						<f:selectItem itemValue="Feminino" itemLabel="Feminino" />
					</p:selectOneMenu>
						
					
					<h:outputLabel value="Idade" />
					<p:inputText value="${alunoMB.alunoAtual.idade}" id="txtIdade"
						maxlength="3"
						validatorMessage="A idade deve possuir no máximo 3 números" size="5">
					</p:inputText>

					<h:outputText value="Email" />
					<p:inputText id="txtEmail" maxlength="100" size="100"
						value="${alunoMB.alunoAtual.email}"/>					 
						
					<h:outputLabel for="curso" value="Curso " />
					<p:selectOneMenu value="#{alunoMB.alunoAtual.curso}"
						style="width:600px;">
						<f:selectItem itemLabel="" size="100" itemValue="" />
						<f:selectItems value="#{alunoMB.listaCursos()}" var="curso"
							itemLabel="#{curso.nome}" itemValue="#{curso.id}" />
 					</p:selectOneMenu>


					<div align="center">

					<h:panelGroup>
							<p:commandButton value="Inserir" ajax="false"
								style="color:blue; background-color:#CCEEFF" size="100"
								name="cmd" action="${alunoMB.inserir()}" >
	
								</p:commandButton>
								
							
							<p:commandButton value="Pesquisar por identificação" ajax="false"
								style="color:blue; background-color:#CCEEFF" size="100"
								name="cmd" action="${alunoMB.pesquisarPorIdentificacao()}">
						   
						    </p:commandButton>
					
						</h:panelGroup>
						
					</div>
				</p:panelGrid>
			</p:panel>


			<p:dataTable value="${alunoMB.alunoAtual}" var="aluno"
				paginator="true">


				<p:column headerText="RA">${aluno.identificacao}</p:column>
				<p:column headerText="Nome">${aluno.nome}</p:column>
				<p:column headerText="Data de Nascimento">${aluno.preparaData}</p:column>
				<p:column headerText="Curso">${aluno.curso}</p:column>
				<p:column headerText="Email">${aluno.email}</p:column>
				<p:column headerText="Opções">
					<p:commandButton value="Atualizar" ajax="false"
						style="color:blue; background-color:#CCEEFF" size="100" name="cmd"
						action="${alunoMB.atualizar()}" />
					<p:commandButton value="Remover" ajax="false"
						style="color:blue; background-color:#CCEEFF" size="100" name="cmd"
						action="${alunoMB.remover()}" />


				</p:column>
			</p:dataTable>

		</h:form>
	</div>

</h:body>
</html>